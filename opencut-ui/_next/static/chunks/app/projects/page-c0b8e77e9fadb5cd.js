(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{16224:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},26880:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},30428:(e,s,t)=>{Promise.resolve().then(t.bind(t,91188))},37770:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},43589:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},44585:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},45186:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},57118:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},58090:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},59726:(e,s,t)=>{"use strict";var a=t(44578);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},61275:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},73539:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},85794:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},90320:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(88077).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},91188:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>O});var a=t(28064),r=t(88077);let l=(0,r.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var n=t(45186),c=t(73539),i=t(26880),d=t(43589);let o=(0,r.A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),m=(0,r.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var u=t(85794);let x=(0,r.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var h=t(30461),p=t(35021),f=t.n(p),j=t(59726),g=t(97215),y=t(74188),v=t(93442),N=t(44775),k=t(61309),b=t(93146);let w=y.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,b.cn)("rounded-xl border bg-card text-card-foreground",t),...r})});w.displayName="Card",y.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,b.cn)("flex flex-col space-y-1.5 p-6",t),...r})}).displayName="CardHeader",y.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,b.cn)("font-semibold leading-none tracking-tight",t),...r})}).displayName="CardTitle",y.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,b.cn)("text-sm text-muted-foreground",t),...r})}).displayName="CardDescription";let C=y.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,b.cn)("p-6 pt-0",t),...r})});C.displayName="CardContent",y.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,b.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";var A=t(14446),S=t(54678),z=t(84843),P=t(52801);function D(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,b.cn)("animate-pulse rounded-md bg-primary/10",s),...t})}var M=t(82337),R=t(91685);function O(){let{savedProjects:e,isLoading:s,isInitialized:t,deleteProject:r,createNewProject:i,getFilteredAndSortedProjects:d}=(0,M.I)(),[o,m]=(0,y.useState)({}),[u,x]=(0,y.useState)(new Set),[h,p]=(0,y.useState)(!1),[N,b]=(0,y.useState)(new Set),[w,C]=(0,y.useState)(!1),[S,O]=(0,y.useState)(""),[I,V]=(0,y.useState)("createdAt-desc");(0,j.useRouter)();let B=(0,y.useCallback)(async e=>{if(void 0!==o[e])return o[e];x(s=>new Set(s).add(e));try{let s=await R.A.getState().getProjectThumbnail(e);return m(t=>({...t,[e]:s})),s}finally{x(s=>{let t=new Set(s);return t.delete(e),t})}},[]),F=async()=>{let e=await i("New Project");(0,g.C1)(e)},L=(e,s)=>{let t=new Set(N);s?t.add(e):t.delete(e),b(t)},T=e=>{e?b(new Set(H.map(e=>e.id))):b(new Set)},U=()=>{p(!1),b(new Set)},Y=async()=>{await Promise.all(Array.from(N).map(e=>r(e))),b(new Set),p(!1),C(!1)},H=d(S,I),K=H.length>0&&N.size===H.length,Q=N.size>0&&N.size<H.length;return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsxs)("div",{className:"pt-6 px-6 flex items-center justify-between w-full h-16",children:[(0,a.jsxs)(f(),{href:"/",className:"flex items-center gap-1 hover:text-muted-foreground transition-colors",children:[(0,a.jsx)(l,{className:"size-5! shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Back"})]}),(0,a.jsx)("div",{className:"block md:hidden",children:h?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(k.$,{variant:"outline",size:"sm",onClick:U,children:[(0,a.jsx)(n.A,{className:"size-4!"}),"Cancel"]}),N.size>0&&(0,a.jsxs)(k.$,{variant:"destructive",size:"sm",onClick:()=>C(!0),children:[(0,a.jsx)(c.A,{className:"size-4!"}),"Delete (",N.size,")"]})]}):(0,a.jsx)($,{onClick:F})})]}),(0,a.jsxs)("main",{className:"max-w-6xl mx-auto px-6 pt-6 pb-6",children:[(0,a.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"Your Projects"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:[e.length," ",1===e.length?"project":"projects",h&&N.size>0&&(0,a.jsxs)("span",{className:"ml-2 text-primary",children:["â€¢ ",N.size," selected"]})]})]}),(0,a.jsx)("div",{className:"hidden md:block",children:h?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(k.$,{variant:"outline",onClick:U,children:[(0,a.jsx)(n.A,{className:"size-4!"}),"Cancel"]}),N.size>0&&(0,a.jsxs)(k.$,{variant:"destructive",onClick:()=>C(!0),children:[(0,a.jsx)(c.A,{className:"size-4!"}),"Delete Selected (",N.size,")"]})]}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(k.$,{variant:"outline",onClick:()=>p(!0),disabled:0===e.length,children:"Select Projects"}),(0,a.jsx)($,{onClick:F})]})})]}),(0,a.jsxs)("div",{className:"mb-4 flex items-center justify-between gap-4",children:[(0,a.jsx)("div",{className:"flex-1 max-w-72",children:(0,a.jsx)(z.p,{placeholder:"Search projects...",value:S,onChange:e=>O(e.target.value)})}),(0,a.jsxs)(P.l6,{value:I,onValueChange:V,children:[(0,a.jsx)(P.bq,{className:"w-[180px]",children:(0,a.jsx)(P.yv,{placeholder:"Sort by"})}),(0,a.jsxs)(P.gC,{children:[(0,a.jsx)(P.eb,{value:"createdAt-desc",children:"Newest to Oldest"}),(0,a.jsx)(P.eb,{value:"createdAt-asc",children:"Oldest to Newest"}),(0,a.jsx)(P.eb,{value:"name-asc",children:"Name (A-Z)"}),(0,a.jsx)(P.eb,{value:"name-desc",children:"Name (Z-A)"})]})]})]}),h&&H.length>0&&(0,a.jsxs)("button",{type:"button",onClick:()=>T(!K),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),T(!K))},className:"w-full hover:cursor-pointer gap-2 mb-6 p-4 bg-muted/30 rounded-lg border items-center flex",tabIndex:0,children:[(0,a.jsx)(A.S,{checked:Q?"indeterminate":K}),(0,a.jsx)("span",{className:"text-sm font-medium",children:K?"Deselect All":"Select All"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(",N.size," of ",H.length," selected)"]})]}),s||!t?(0,a.jsx)("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:Array.from({length:8},(e,s)=>(0,a.jsxs)("div",{className:"overflow-hidden bg-background border-none p-0",children:[(0,a.jsx)(D,{className:"aspect-square w-full bg-muted/50"}),(0,a.jsxs)("div",{className:"px-0 pt-5 flex flex-col gap-1",children:[(0,a.jsx)(D,{className:"h-4 w-3/4 bg-muted/50"}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(D,{className:"h-4 w-4 bg-muted/50"}),(0,a.jsx)(D,{className:"h-4 w-24 bg-muted/50"})]})]})]},"skeleton-".concat(s,"-").concat(Date.now())))}):0===e.length?(0,a.jsx)(_,{onCreateProject:F}):0===H.length?(0,a.jsx)(q,{searchQuery:S,onClearSearch:()=>O("")}):(0,a.jsx)("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:H.map(e=>(0,a.jsx)(E,{project:e,isSelectionMode:h,isSelected:N.has(e.id),onSelect:L,getProjectThumbnail:B},e.id))})]}),(0,a.jsx)(v.B,{isOpen:w,onOpenChange:C,onConfirm:Y})]})}function E(e){let{project:s,isSelectionMode:t=!1,isSelected:r=!1,onSelect:l,getProjectThumbnail:n}=e,[c,u]=(0,y.useState)(!1),[x,p]=(0,y.useState)(!1),[f,j]=(0,y.useState)(!1),[b,z]=(0,y.useState)(null),[P,D]=(0,y.useState)(!0),{deleteProject:R,renameProject:O,duplicateProject:E}=(0,M.I)();(0,y.useEffect)(()=>{(async()=>{D(!0);try{let e=await n(s.id);z(e)}finally{D(!1)}})()},[s.id,n]);let $=async()=>{await R(s.id),u(!1)},_=async e=>{await O(s.id,e),j(!1)},q=async()=>{u(!1),await E(s.id)},I=(0,a.jsxs)(w,{className:"overflow-hidden bg-background border-none p-0 transition-all ".concat(t&&r?"ring-2 ring-primary":""),children:[(0,a.jsxs)("div",{className:"relative aspect-square bg-muted transition-opacity ".concat(c?"opacity-65":"opacity-100 group-hover:opacity-65"),children:[t&&(0,a.jsx)("div",{className:"absolute top-3 left-3 z-10",children:(0,a.jsx)("div",{className:"w-5 h-5 rounded bg-background/80 backdrop-blur-xs border flex items-center justify-center",children:(0,a.jsx)(A.S,{checked:r,onCheckedChange:e=>null==l?void 0:l(s.id,e),onClick:e=>e.stopPropagation(),className:"w-4 h-4"})})}),(0,a.jsx)("div",{className:"absolute inset-0",children:P?(0,a.jsx)("div",{className:"w-full h-full bg-muted/50 flex items-center justify-center",children:(0,a.jsx)(i.A,{className:"h-12 w-12 text-muted-foreground animate-spin"})}):b?(0,a.jsx)(h.default,{src:b,alt:"Project thumbnail",fill:!0,className:"object-cover"}):(0,a.jsx)("div",{className:"w-full h-full bg-muted/50 flex items-center justify-center",children:(0,a.jsx)(d.A,{className:"h-12 w-12 shrink-0 text-muted-foreground"})})})]}),(0,a.jsxs)(C,{className:"px-0 pt-5 flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("h3",{className:"font-medium text-sm leading-snug group-hover:text-foreground/90 transition-colors line-clamp-2",children:s.name}),!t&&(0,a.jsxs)(S.rI,{open:c,onOpenChange:u,children:[(0,a.jsx)(S.ty,{asChild:!0,children:(0,a.jsx)(k.$,{variant:"text",size:"sm",className:"size-6 p-0 transition-all shrink-0 ml-2 ".concat(c?"opacity-100":"opacity-0 group-hover:opacity-100"),onClick:e=>e.preventDefault(),children:(0,a.jsx)(o,{})})}),(0,a.jsxs)(S.SQ,{align:"end",onCloseAutoFocus:e=>{e.preventDefault(),e.stopPropagation()},children:[(0,a.jsx)(S._2,{onClick:e=>{e.preventDefault(),e.stopPropagation(),u(!1),j(!0)},children:"Rename"}),(0,a.jsx)(S._2,{onClick:e=>{e.preventDefault(),e.stopPropagation(),q()},children:"Duplicate"}),(0,a.jsx)(S.mB,{}),(0,a.jsx)(S._2,{variant:"destructive",onClick:e=>{e.preventDefault(),e.stopPropagation(),u(!1),p(!0)},children:"Delete"})]})]})]}),(0,a.jsx)("div",{className:"space-y-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[(0,a.jsx)(m,{className:"size-4!"}),(0,a.jsxs)("span",{children:["Created ",s.createdAt.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})})]})]});return(0,a.jsxs)(a.Fragment,{children:[t?(0,a.jsx)("button",{type:"button",onClick:e=>{t&&(e.preventDefault(),null==l||l(s.id,!r))},onKeyDown:e=>{t&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),null==l||l(s.id,!r))},className:"block group cursor-pointer w-full text-left",children:I}):(0,a.jsx)("a",{href:"/opencut/editor?project=".concat(encodeURIComponent(s.id)),className:"block group",onClick:e=>{e.preventDefault(),(0,g.C1)(s.id)},children:I}),(0,a.jsx)(v.B,{isOpen:x,onOpenChange:p,onConfirm:$}),(0,a.jsx)(N.U,{isOpen:f,onOpenChange:j,onConfirm:_,projectName:s.name})]})}function $(e){let{onClick:s}=e;return(0,a.jsxs)(k.$,{className:"flex",onClick:s,children:[(0,a.jsx)(u.A,{className:"size-4!"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"New project"})]})}function _(e){let{onCreateProject:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted/30 flex items-center justify-center mb-4",children:(0,a.jsx)(d.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No projects yet"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6 max-w-md",children:"Start creating your first video project. Import media, edit, and export professional videos."}),(0,a.jsxs)(k.$,{size:"lg",className:"gap-2",onClick:s,children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),"Create Your First Project"]})]})}function q(e){let{searchQuery:s,onClearSearch:t}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted/30 flex items-center justify-center mb-4",children:(0,a.jsx)(x,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No results found"}),(0,a.jsxs)("p",{className:"text-muted-foreground mb-6 max-w-md",children:['Your search for "',s,'" did not return any results.']}),(0,a.jsx)(k.$,{onClick:t,variant:"outline",children:"Clear Search"})]})}}},e=>{e.O(0,[602,239,678,7,298,208,673,650,358],()=>e(e.s=30428)),_N_E=e.O()}]);
//# sourceMappingURL=page-c0b8e77e9fadb5cd.js.map